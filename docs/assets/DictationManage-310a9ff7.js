import{d as y,r as m,u as E,e as c,q as w,F as f,b as l,f as C,z as k,t as _,A as I}from"./index-8cfa907d.js";import{p as L,g as D}from"./videoData-cc158f19.js";import{_ as N}from"./_plugin-vue_export-helper-a42cbba8.js";const V={class:"caption-row"},B=["title","onClick"],S=y({__name:"DictationManage",setup(x){const i=m([]),n=m([]),v=E().params.videoId,r=new Map;L(v).then(o=>{var s;o.forEach((t,e)=>{i.value.push(t),n.value.push([]),t.words.forEach((u,p)=>{const g=u.value.toLowerCase(),h=r.get(g);h===void 0?r.set(g,[[e,p]]):h.push([e,p])})});const a=((s=D(v))==null?void 0:s.userInputs)||[];if(a.length===0)for(const[t,e]of r)e.length===1&&t.length>10&&(n.value[e[0][0]][e[0][1]]="a");for(const t of a)n.value[t[0]][t[1]]="a"});function M(){const o=[];n.value.forEach((a,s)=>{a.forEach((t,e)=>{t&&o.push([s,e])})}),console.log(JSON.stringify(o))}function b(o,a){const s=n.value[o][a]?"":"a",t=i.value[o].words[a].value.toLowerCase();for(const e of r.get(t))n.value[e[0]][e[1]]=s;M()}function d(o){return r.get(o.toLowerCase()).length}return(o,a)=>(l(!0),c(f,null,w(i.value,(s,t)=>(l(),c("div",null,[C("div",V,[k(_(s.firstSeparator)+" ",1),(l(!0),c(f,null,w(s.words,(e,u)=>(l(),c(f,null,[C("span",{class:I(["caption-word-span",{"caption-word-selected":n.value[t][u]},{"caption-word-once":d(e.value)===1}]),title:d(e.value),onClick:p=>b(t,u)},_(e.value),11,B),k(_(e.separator),1)],64))),256))])]))),256))}});const A=N(S,[["__scopeId","data-v-bbae8ea3"]]);export{A as default};
