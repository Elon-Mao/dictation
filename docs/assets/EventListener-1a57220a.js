import{d as w,c as S,r as c,a as k,k as x,b as V,e as B,l as p,v as T,f as L,h as C,B as y,C as D,F as E,D as K}from"./index-8cfa907d.js";import{_ as U}from"./_plugin-vue_export-helper-a42cbba8.js";const t=new window.webkitSpeechRecognition;t.lang="en-US";t.continuous=!0;let _=[];t.onresult=e=>{_=[...e.results]};let o=null,s=null,i=!1;function b(e){e.key==="l"&&e.altKey&&!i&&(i=!0,o&&(o(),t.start()))}function F(e){(e.key==="Alt"||e.key==="l"&&i)&&(i=!1,t.stop(),s&&s())}document.addEventListener("keydown",b);document.addEventListener("keyup",F);function I(e,v,d=null){o=e,t.onend=()=>{v(_.map(a=>a[0].transcript).join())},s=d}function N(){o=null,s=null}const R={class:"speeching-wrapper"},A=K('<div style="--d:0;" data-v-8aa2e565></div><div style="--d:1;" data-v-8aa2e565></div><div style="--d:2;" data-v-8aa2e565></div><div style="--d:3;" data-v-8aa2e565></div><div style="--d:4;" data-v-8aa2e565></div><div style="--d:5;" data-v-8aa2e565></div><div style="--d:4;" data-v-8aa2e565></div><div style="--d:3;" data-v-8aa2e565></div><div style="--d:2;" data-v-8aa2e565></div><div style="--d:1;" data-v-8aa2e565></div><div style="--d:0;" data-v-8aa2e565></div><div style="--d:1;" data-v-8aa2e565></div><div style="--d:2;" data-v-8aa2e565></div><div style="--d:3;" data-v-8aa2e565></div><div style="--d:4;" data-v-8aa2e565></div><div style="--d:5;" data-v-8aa2e565></div><div style="--d:4;" data-v-8aa2e565></div><div style="--d:3;" data-v-8aa2e565></div><div style="--d:2;" data-v-8aa2e565></div><div style="--d:1;" data-v-8aa2e565></div><div style="--d:0;" data-v-8aa2e565></div>',21),j=[A],z=w({__name:"SpeechToText",props:["modelvalue"],emits:["update:modelvalue"],setup(e,{emit:v}){const d=e,a=d.modelvalue!==void 0?S({get(){return d.modelvalue},set(n){v("update:modelvalue",n)}}):c(""),l=c(!1),u=c(!1);function f(){I(()=>{l.value=!0,u.value=!0,a.value=""},n=>{u.value=!1,a.value=n},()=>{l.value=!1})}return(n,r)=>{const m=k("el-input"),h=x("loading");return V(),B(E,null,[p(L("div",R,j,512),[[T,l.value]]),p(C(m,{modelValue:y(a),"onUpdate:modelValue":r[0]||(r[0]=g=>D(a)?a.value=g:null),type:"textarea",autosize:{minRows:2},onFocus:f,onBlur:y(N),placeholder:"hold down 'Alt+L' to speech"},null,8,["modelValue","onBlur"]),[[h,!l.value&&u.value]])],64)}}});const H=U(z,[["__scopeId","data-v-8aa2e565"]]),P=e=>(e.preventDefault(),e.returnValue="");function J(){addEventListener("beforeunload",P)}export{H as S,J as a};
